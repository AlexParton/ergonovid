"use strict";(self.webpackChunkergonomic=self.webpackChunkergonomic||[]).push([[50],{8055:function(e,n,t){t.d(n,{Z:function(){return i}});var a=t(885),s=t(2791),r="Input_InputWrapper__Ca8i+",o=t(184),i=function(e){var n=(0,s.useState)(!1),t=(0,a.Z)(n,2),i=t[0],c=t[1],u=(0,s.useState)(e.value?e.value:""),l=(0,a.Z)(u,2),d=l[0],h=l[1],m=(0,s.useState)(!1),g=(0,a.Z)(m,2),f=g[0],v=g[1],x=(0,s.useState)(!1),p=(0,a.Z)(x,2),j=p[0],Z=p[1],S=!(""!==d.trim())&&j;return(0,s.useEffect)((function(){e.value&&(""!==e.value&&v(!0),h(e.value))}),[e.value]),(0,o.jsxs)("div",{className:"".concat(r," ").concat(i?"focused":""," ").concat(f?"withValue":""," ").concat(S?"error":""),children:[(0,o.jsx)("label",{htmlFor:e.name,children:e.label}),(0,o.jsx)("input",{value:d,onFocus:function(){return c(!0)},onBlur:function(){v(""!==d),c(!1),Z(!0)},onChange:function(n){h(n.target.value),setTimeout((function(){e.onInputChange(n)}),300)},type:e.type,name:e.name})]})}},1886:function(e,n,t){var a=t(184);n.Z=function(){return(0,a.jsxs)("div",{className:"lds-ellipsis",children:[(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{})]})}},50:function(e,n,t){t.r(n);var a=t(885),s=t(8014),r=t(5366),o=t(8055),i=t(2791),c=t(3578),u=t(6871),l=t(9062),d=t(9260),h=t(1886),m=t(184);n.default=function(e){var n=(0,d.Z)(),t=(0,l.ad)(n),g=(0,u.TH)(),f=(0,i.useState)(!0),v=(0,a.Z)(f,2),x=v[0],p=v[1],j="Nombre de usuario",Z="Direcci\xf3n de email",S=(0,i.useState)(""),R=(0,a.Z)(S,2),C=R[0],b=R[1],I=function(e){K(!1),b(e.target.value)},N=(0,i.useState)(""),_=(0,a.Z)(N,2),w=_[0],y=_[1],E=function(e){K(!1),y(e.target.value),ge("")},T=(0,i.useState)(""),F=(0,a.Z)(T,2),O=F[0],k=F[1],M=function(e){K(!1),k(e.target.value)},P=(0,i.useState)(""),L=(0,a.Z)(P,2),A=L[0],B=L[1],H=function(e){K(!1),B(e.target.value)},G=x?"":(0,m.jsx)(o.Z,{onInputChange:H,name:"password",type:"password",label:"Repetir contrase\xf1a"}),Q=O===A,D=(0,c.v0)(),J=(0,u.s0)(),U=(0,i.useState)(""),q=(0,a.Z)(U,2),V=q[0],W=q[1],z=(0,i.useState)(!1),X=(0,a.Z)(z,2),Y=X[0],K=X[1],$=(0,i.useState)(!1),ee=(0,a.Z)($,2),ne=ee[0],te=ee[1],ae=(0,i.useState)(!1),se=(0,a.Z)(ae,2),re=se[0],oe=se[1],ie=(0,i.useState)(!1),ce=(0,a.Z)(ie,2),ue=ce[0],le=ce[1],de=(0,i.useState)(""),he=(0,a.Z)(de,2),me=he[0],ge=he[1],fe=(0,i.useState)(!1),ve=(0,a.Z)(fe,2),xe=ve[0],pe=ve[1];return"passchange"===g.state?(0,m.jsxs)("section",{className:r.Z.Register,children:[(0,m.jsxs)("div",{className:r.Z.Header,children:[(0,m.jsx)(s.TQI,{}),(0,m.jsx)("h1",{children:"ERGONOMIC"})]}),(0,m.jsxs)("form",{className:r.Z.Form,onSubmit:function(){Q&&(0,c.gQ)(D.currentUser,O).then((function(){pe(!0),setTimeout((function(){J("/")}),2e3)})).catch((function(e){console.log(e)}))},children:[(0,m.jsx)(o.Z,{onInputChange:M,name:"password",type:"password",label:"Nueva contrase\xf1a"}),(0,m.jsx)(o.Z,{onInputChange:H,name:"password",type:"password",label:"Repetir nueva contrase\xf1a"}),!x&&(0,m.jsx)(o.Z,{onInputChange:I,name:"name",type:"text",label:j}),Y?(0,m.jsx)("p",{className:"warning",children:V}):"",(0,m.jsx)("button",{children:"CONFIRMAR CAMBIOS"}),xe&&(0,m.jsx)("h2",{children:"La contrase\xf1a se ha cambiado"})]})]}):(0,m.jsxs)("section",{className:r.Z.Register,children:[(0,m.jsxs)("div",{className:r.Z.Header,children:[(0,m.jsx)(s.TQI,{}),(0,m.jsx)("h1",{children:"ERGONOMIC"})]}),ne?(0,m.jsxs)("div",{className:r.Z.Success,children:[(0,m.jsx)("h2",{children:"REGISTRO CONFIRMADO"}),(0,m.jsx)(h.Z,{})]}):(0,m.jsx)(i.Fragment,{children:re?(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(o.Z,{onInputChange:E,name:"email",type:"text",label:Z}),(0,m.jsx)("button",{onClick:function(){""!==w&&(0,c.LS)(D,w).then((function(){le(!0),setTimeout((function(){oe(!1),le(!1)}),2e3)})).catch((function(e){var n=e.code;"auth/user-not-found"===n&&ge("Este email no est\xe1 registrado"),console.log(n)}))},className:r.Z.SendRecovery,children:"Recibir email de recuperaci\xf3n"}),""!==me&&(0,m.jsx)("h2",{children:me}),ue?(0,m.jsx)("h2",{children:"Email de recuperaci\xf3n enviado"}):(0,m.jsx)("button",{onClick:function(){return oe(!1)},className:r.Z.Forgot,children:"Volver al registro"})]}):(0,m.jsxs)(i.Fragment,{children:[(0,m.jsxs)("form",{className:r.Z.Form,onSubmit:function(e){if(e.preventDefault(),x)(0,c.e5)(D,w,O).then((function(e){var n=e.user;localStorage.setItem("uid",n.uid),J("/")})).catch((function(e){var n=e.code,t=e.message;console.log(t),"auth/wrong-password"===n&&(W("Contrase\xf1a denegada"),K(!0)),"auth/user-not-found"===n&&(W("Este email no est\xe1 registrado"),K(!0))}));else{if(!w)return W("Introduce tu direcci\xf3n de email"),void K(!0);if(!Q)return W("Las contrase\xf1as no coinciden"),void K(!0);if(O.length<6&&(W("La contrase\xf1a tiene que ser de 6 caracteres m\xednimo"),K(!0)),!C)return W("Elige un nombre de usuario"),void K(!0);(0,c.Xb)(D,w,O).then((function(e){var n=e.user;localStorage.setItem("uid",n.uid);var a=C.toLowerCase().replace(" ","")+Math.floor(1e6*Math.random()),s=(0,l.hJ)(t,"users"),r={displayName:C,avatarId:"",userId:n.uid,hash:a,engagedTo:[],createdEventos:[]};(0,l.pl)((0,l.JU)(s,n.uid),r),te(!0),setTimeout((function(){te(!1),J("/")}),2e3)})).catch((function(e){var n=e.code,t=e.message;console.log(t),"auth/email-already-in-use"===n&&(W("Este email ya est\xe1 registrado"),K(!0))}))}},children:[(0,m.jsx)(o.Z,{onInputChange:E,name:"email",type:"text",label:Z}),(0,m.jsx)(o.Z,{onInputChange:M,name:"password",type:"password",label:"Contrase\xf1a"}),G,!x&&(0,m.jsx)(o.Z,{onInputChange:I,name:"name",type:"text",label:j}),Y?(0,m.jsx)("p",{className:"warning",children:V}):"",(0,m.jsx)("button",{children:x?"ENTRAR":"REGISTRARSE"})]}),x&&(0,m.jsx)("button",{onClick:function(){return oe(!0)},className:r.Z.Forgot,children:"Olvid\xe9 mi contrase\xf1a"}),(0,m.jsxs)("button",{onClick:function(){return p(!x)},className:r.Z.Cta2,children:[x?"\xbfTodav\xeda no tienes cuenta? ":"\xbfYa tienes cuenta? ",(0,m.jsx)("strong",{children:x?"\xa1Reg\xedstrate!":" \xa1Entra!"})]})]})})]})}},5366:function(e,n){n.Z={Register:"RegisterPage_Register__xe-B+",Header:"RegisterPage_Header__LerCO",SendRecovery:"RegisterPage_SendRecovery__JUWSz",Success:"RegisterPage_Success__bkBqi",Forgot:"RegisterPage_Forgot__SZPvw",Terms:"RegisterPage_Terms__OgyQB"}}}]);
//# sourceMappingURL=50.8250c466.chunk.js.map